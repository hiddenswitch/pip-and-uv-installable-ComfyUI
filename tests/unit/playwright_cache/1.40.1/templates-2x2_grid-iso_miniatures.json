{"1":{"_meta":{"title":"Load Character/Selfie Image"},"class_type":"LoadImage","inputs":{"image":"character_in_red_jacket.png"}},"3":{"_meta":{"title":"Nano Banana Pro (Google Gemini Image)"},"class_type":"GeminiImage2Node","inputs":{"aspect_ratio":"1:1","images":["1",0],"model":"gemini-3-pro-image-preview","prompt":["86:81",0],"resolution":"4K","response_modalities":"IMAGE+TEXT","seed":111111,"system_prompt":"You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user input\u2014regardless of format, intent, or abstraction\u2014as literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."}},"4":{"_meta":{"title":"Save Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-2x2_grid","images":["3",0]}},"52":{"_meta":{"title":"Crop Inset Grid Images"},"class_type":"PrimitiveInt","inputs":{"value":0}},"53:10":{"_meta":{"title":"3"},"class_type":"ImageCrop","inputs":{"height":["53:16",0],"image":["3",0],"width":["53:15",0],"x":["53:24",0],"y":["53:12",0]}},"53:11":{"_meta":{"title":"4"},"class_type":"ImageCrop","inputs":{"height":["53:16",0],"image":["3",0],"width":["53:15",0],"x":["53:13",0],"y":["53:12",0]}},"53:12":{"_meta":{"title":"Row 2 - Y val"},"class_type":"SimpleMath+","inputs":{"a":["53:16",0],"b":["53:14",0],"value":"a + (b/2)"}},"53:13":{"_meta":{"title":"Col 2 - X val"},"class_type":"SimpleMath+","inputs":{"a":["53:15",0],"b":["53:14",0],"value":"a + (b/2)"}},"53:14":{"_meta":{"title":"Crop Inset Grid Images Value"},"class_type":"SimpleMath+","inputs":{"a":["52",0],"value":"a"}},"53:15":{"_meta":{"title":"WIDTH"},"class_type":"SimpleMath+","inputs":{"a":["53:17",0],"b":["53:14",0],"value":"(a-2*b) / 2"}},"53:16":{"_meta":{"title":"HEIGHT"},"class_type":"SimpleMath+","inputs":{"a":["53:17",1],"b":["53:14",0],"value":"(a-2*b) / 2"}},"53:17":{"_meta":{"title":"Get Image Size"},"class_type":"GetImageSize","inputs":{"image":["3",0]}},"53:19":{"_meta":{"title":null},"class_type":null,"inputs":{"UNKNOWN":"null","image_1":["53:8",0],"image_2":["53:9",0],"image_3":["53:10",0],"image_4":["53:11",0]}},"53:20":{"_meta":{"title":"Resize Images"},"class_type":null,"inputs":{"UNKNOWN":"cpu","height":["53:22",0],"image":["53:19",0],"width":["53:23",0]}},"53:21":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["53:20",0]}},"53:22":{"_meta":{"title":"HEIGHT / 2"},"class_type":"SimpleMath+","inputs":{"a":["53:17",1],"value":"(a) / 2"}},"53:23":{"_meta":{"title":"WIDTH / 2"},"class_type":"SimpleMath+","inputs":{"a":["53:17",0],"value":"(a) / 2"}},"53:24":{"_meta":{"title":"Col 1 - X val"},"class_type":"SimpleMath+","inputs":{"b":["53:14",0],"value":"b/2"}},"53:5":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["53:9",0]}},"53:6":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["53:10",0]}},"53:7":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["53:11",0]}},"53:8":{"_meta":{"title":"1"},"class_type":"ImageCrop","inputs":{"height":["53:16",0],"image":["3",0],"width":["53:15",0],"x":["53:24",0],"y":["53:24",0]}},"53:88":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["53:8",0]}},"53:9":{"_meta":{"title":"2"},"class_type":"ImageCrop","inputs":{"height":["53:16",0],"image":["3",0],"width":["53:15",0],"x":["53:13",0],"y":0}},"54":{"_meta":{"title":"Save Image 1"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_1","images":["53:8",0]}},"55":{"_meta":{"title":"Save Image 2"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_2","images":["53:9",0]}},"56":{"_meta":{"title":"Save Image 3"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_3","images":["53:10",0]}},"57":{"_meta":{"title":"Save Image 4"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_4","images":["53:11",0]}},"79":{"_meta":{"title":"Describe Scenes/Actions/Vibes"},"class_type":"PrimitiveStringMultiline","inputs":{"value":"frame 1: a hardware engineer building modern rocket engines\nframe 2: riding on an all red ducatti\nframe 3: standing behind a DJ deck\nframe 4: wearing a virtual reality headset controlling a drone"}},"83":{"_meta":{"title":"Describe Outfit"},"class_type":"PrimitiveStringMultiline","inputs":{"value":"the same outfit as the input image"}},"85":{"_meta":{"title":"Preview Prompt"},"class_type":"PreviewAny","inputs":{"previewMode":null,"preview_markdown":"","preview_text":"","source":["86:81",0]}},"86:80":{"_meta":{"title":"Prompt Template"},"class_type":"PrimitiveStringMultiline","inputs":{"value":"Make a miniature, full-body, isometric, realistic figurine of this person, wearing {outfit}, the character is: {description}, on a white background, minimal, 4K resolution.\nAll frames should be oriented in the same direction.\nNO VISIBLE GUTTERS OR BLACK BORDERS."}},"86:81":{"_meta":{"title":"Concatenate"},"class_type":"StringConcatenate","inputs":{"delimiter":" ","string_a":"Generate a 2x2 (2 rows, 2 cols) grid.\n\nDivide the frame in 4 different frames. Each frame must be unique.","string_b":["86:84",0]}},"86:82":{"_meta":{"title":"Regex Replace"},"class_type":"RegexReplace","inputs":{"case_insensitive":true,"count":0,"dotall":false,"multiline":false,"regex_pattern":"{outfit}","replace":["83",0],"string":["86:80",0]}},"86:84":{"_meta":{"title":"Regex Replace"},"class_type":"RegexReplace","inputs":{"case_insensitive":true,"count":0,"dotall":false,"multiline":false,"regex_pattern":"{description}","replace":["79",0],"string":["86:82",0]}}}