{"1":{"_meta":{"title":"Load Image"},"class_type":"LoadImage","inputs":{"image":"cube_robot.jpg"}},"10":{"_meta":{"title":"Save Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_1","images":["7:29",0]}},"11":{"_meta":{"title":"Save Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_2","images":["7:101",0]}},"12":{"_meta":{"title":"Save Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_2","images":["7:187",0]}},"13":{"_meta":{"title":"Save Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-image_1","images":["7:145",0]}},"14:78":{"_meta":{"title":"ImageFromBatch"},"class_type":"ImageFromBatch","inputs":{"batch_index":["14:89",0],"image":["7:333",0],"length":1}},"14:83":{"_meta":{"title":"ResizeAndPadImage"},"class_type":"ResizeAndPadImage","inputs":{"image":["1",0],"interpolation":"area","padding_color":"white","target_height":["14:86",1],"target_width":["14:86",0]}},"14:86":{"_meta":{"title":"Get Image Size"},"class_type":"GetImageSize","inputs":{"image":["14:78",0]}},"14:87":{"_meta":{"title":"Batch Images"},"class_type":"ImageBatch","inputs":{"image1":["14:78",0],"image2":["14:83",0]}},"14:89":{"_meta":{"title":"Image # as index"},"class_type":"SimpleMath+","inputs":{"a":["21",0],"value":"a - 1"}},"15":{"_meta":{"title":"Nano Banana Pro (Google Gemini Image)"},"class_type":"GeminiImage2Node","inputs":{"aspect_ratio":"16:9","images":["14:78",0],"model":"gemini-3-pro-image-preview","prompt":"Upscale image 1 and add subtle details. Crop if necessary.","resolution":"4K","response_modalities":"IMAGE+TEXT","seed":321,"system_prompt":"You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user input\u2014regardless of format, intent, or abstraction\u2014as literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."}},"16":{"_meta":{"title":"Save Upscaled Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-selected_image-upscaled","images":["15",0]}},"18":{"_meta":{"title":"Save Selected Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-selected_image","images":["14:78",0]}},"2":{"_meta":{"title":"Nano Banana Pro (Google Gemini Image)"},"class_type":"GeminiImage2Node","inputs":{"aspect_ratio":"9:16","images":["1",0],"model":"gemini-3-pro-image-preview","prompt":["24",0],"resolution":"4K","response_modalities":"IMAGE+TEXT","seed":123,"system_prompt":"You are an expert image-generation engine. You must ALWAYS produce an image.\nInterpret all user input\u2014regardless of format, intent, or abstraction\u2014as literal visual directives for image composition.\nIf a prompt is conversational or lacks specific visual details, you must creatively invent a concrete visual scenario that depicts the concept.\nPrioritize generating the visual representation above any text, formatting, or conversational requests."}},"21":{"_meta":{"title":"Select Image Number"},"class_type":"PrimitiveInt","inputs":{"value":1}},"22":{"_meta":{"title":"Describe the Scene"},"class_type":"PrimitiveStringMultiline","inputs":{"value":"The subject is inside a giant computer motherboard landscape - towering capacitors, circuit trace pathways like roads, and LED lights creating a Tron-like microverse where the robot fits the scale perfectly. Dark eerie atmosphere."}},"23":{"_meta":{"title":"Prompt Template"},"class_type":"PrimitiveStringMultiline","inputs":{"value":"Use the input image. Divide the frame in 4 different stacked 16:9 frames.\nFor each frame choose the angle and type of shot (close up, extreme close up, dutch, over-shoulder, wide shot, Cowboy shot, full shot, etc).\n\nEnsure that subject is present in each frame and the environment is consistent between frames:\n{scene}"}},"24":{"_meta":{"title":"Regex Replace"},"class_type":"RegexReplace","inputs":{"case_insensitive":true,"count":0,"dotall":false,"multiline":false,"regex_pattern":"{scene}","replace":["22",0],"string":["23",0]}},"3":{"_meta":{"title":"Save Image"},"class_type":"SaveImage","inputs":{"filename_prefix":"ComfyUI-split_stack","images":["2",0]}},"7:101":{"_meta":{"title":"2"},"class_type":"ImageCrop","inputs":{"height":["7:66",0],"image":["2",0],"width":["7:65",0],"x":0,"y":["7:63",0]}},"7:109":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["7:101",0]}},"7:136":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["7:145",0]}},"7:144":{"_meta":{"title":"Row 3 - Y val"},"class_type":"SimpleMath+","inputs":{"a":["7:66",0],"value":"2*a"}},"7:145":{"_meta":{"title":"3"},"class_type":"ImageCrop","inputs":{"height":["7:66",0],"image":["2",0],"width":["7:65",0],"x":0,"y":["7:144",0]}},"7:164":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["7:187",0]}},"7:172":{"_meta":{"title":"Row 4 - Y val"},"class_type":"SimpleMath+","inputs":{"a":["7:66",0],"value":"3*a"}},"7:18":{"_meta":{"title":"Get Image Size"},"class_type":"GetImageSize","inputs":{"image":["2",0]}},"7:187":{"_meta":{"title":"4"},"class_type":"ImageCrop","inputs":{"height":["7:66",0],"image":["2",0],"width":["7:65",0],"x":0,"y":["7:172",0]}},"7:29":{"_meta":{"title":"1"},"class_type":"ImageCrop","inputs":{"height":["7:66",0],"image":["2",0],"width":["7:65",0],"x":0,"y":0}},"7:32":{"_meta":{"title":"Preview Image"},"class_type":"PreviewImage","inputs":{"images":["7:29",0]}},"7:333":{"_meta":{"title":null},"class_type":null,"inputs":{"UNKNOWN":"null","image_1":["7:29",0],"image_2":["7:101",0],"image_3":["7:145",0],"image_4":["7:187",0]}},"7:353":{"_meta":{"title":"Row 3 - Y val"},"class_type":"SimpleMath+","inputs":{"value":"(2*a) + (3*b)"}},"7:63":{"_meta":{"title":"Row 2 - Y val"},"class_type":"SimpleMath+","inputs":{"a":["7:66",0],"value":"a"}},"7:65":{"_meta":{"title":"WIDTH"},"class_type":"SimpleMath+","inputs":{"a":["7:18",0],"value":"a"}},"7:66":{"_meta":{"title":"HEIGHT"},"class_type":"SimpleMath+","inputs":{"a":["7:18",1],"value":"a / 4"}}}